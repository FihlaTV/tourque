<div data-ng-controller="settingsController" data-resize>
  <div id="settings-wideview">
    <div class="settings profile-bar-chat row">
      <div class="col-xs-10">
        <span class="settings-title">{{ 'SETTINGS.SETTINGS_NAME' | translate }}</span>
      </div>
      <div class="col-xs-2">
        <button class="btn btn-link pull-right"
          data-ng-click="chat.showDefault()"
          data-click-view="false">
          <i class="icon-close"></i>
        </button>
      </div>
    </div>
    <div id="settings-list" class="row" data-resize="full">
      <div class="col-sm-4 col-md-3">
        <div id="settings-menu">
          <div class="settings-item row unselectable"
            data-ng-repeat="option in settings"
            data-ng-click="selectOption()"
            data-ng-class="{'active': option.isSelected}"
            data-ng-if="(option.enable === 'false') ? false : true">
            <div class="row">
              <span class="col-xs-2">
                <i data-ng-if="option.name !== 'Language'" class="icon-{{option.icon}}"></i>
                <img data-ng-if="option.name === 'Language'" style="margin-top:8px" data-ng-src="styles/images/59cd0231d6c6b83c25357969.baseline_language_black_18dp.png">
              </span>
              <span class="col-xs-8 settings-item-name">{{ option.displayName | translate }}</span>
              <span class="col-xs-2 arrow"><i class="icon-arrow_collapse_right"></i></span>
            </div>
          </div>
        </div>
      </div>

      <div class="col-sm-8 col-md-9 setting-right-side pa unselectable" data-ng-if="selected === 'Personal Attendant'">
        <div class="row">
          <div class="settings-details">
            <div class="settings-title">
              <span>{{ 'SETTINGS.PERSONAL_ATTENDANT' | translate}}</span>
              <div class="spinner-wrapper animated fade pull-right"
                data-ng-if="!userSettings.personalAttendant.main && !userSettings.errors.notAvailable">
                <div class="spinner small"></div>
              </div>
            </div>


            <div class="settings-details-wrapper animated fade" data-ng-if="userSettings.errors.notAvailable">
              <div class="alert alert-warning">
                <p><strong>{{ 'SETTINGS.FEATURE_HELP' | translate }}</strong></p>
                {{ 'SETTINGS.ADMIN_HELP' | translate }}
              </div>
            </div>
            <div class="settings-details-wrapper animated fade" data-ng-if="userSettings.personalAttendant.main.personalAttendantPermission === false">
              <div class="alert alert-warning">
                <p><strong>{{ 'SETTINGS.PA_ATTENDANT_HELP' | translate }}</strong></p>
                {{ 'SETTINGS.ADMIN_HELP' | translate }}
              </div>
            </div>
            <div class="settings-details-wrapper" data-ng-if="(userSettings.errors.notAvailable === false) || (userSettings.personalAttendant.main.personalAttendantPermission === true)">
              <form name="formPa" novalidate>
                <div class="form-group clearfix">
                  <label class="col-sm-4 control-label">{{ 'SETTINGS.PA_OVERRIDE' | translate }}</label>
                  <div class="col-sm-8">
                    <input type="checkbox" class="form-control" data-ng-model="userSettings.personalAttendant.main.overrideLanguage">
                    <span class="help-block">
                      {{ 'SETTINGS.PA_OVERRIDE_HELP' | translate }}
                    </span>
                  </div>
                </div>

                <div class="form-group clearfix" data-ng-if="userSettings.personalAttendant.main.overrideLanguage !== false">
                  <label class="col-sm-4 control-label">{{ 'SETTINGS.LANGUAGE' | translate }}</label>
                  <div class="col-sm-8">
                    <select
                      class="form-control"
                      data-ng-model="userSettings.personalAttendant.main.language"
                      data-ng-options="lang for lang in userSettings.personalAttendant.lang">
                    </select>
                    <span class="help-block">
                      {{ 'SETTINGS.PA_LANGUAGE_HELP' | translate }}
                    </span>
                  </div>
                </div>

                <div class="form-group clearfix">
                  <label class="col-sm-4 control-label">{{ 'SETTINGS.PA_OPERATOR' | translate }}</label>
                  <div class="col-sm-8">
                    <input type="text" class="form-control" data-ng-model="userSettings.personalAttendant.main.operator">
                    <span class="help-block">
                      {{ 'SETTINGS.PA_OPERATOR_HELP' | translate }}
                    </span>
                  </div>
                </div>

                <div class="form-group clearfix">
                  <label class="col-sm-4 control-label">{{ 'SETTINGS.PA_PLAY' | translate }}</label>
                  <div class="col-sm-8">
                    <input type="checkbox" class="form-control" data-ng-model="userSettings.personalAttendant.main.playVMDefaultOptions">
                    <span class="help-block">
                      {{ 'SETTINGS.PA_PLAY_HELP' | translate }}
                    </span>
                  </div>
                </div>

                <div class="form-group clearfix">
                  <label class="col-sm-4 control-label">{{ 'SETTINGS.PA_DEPOSIT' | translate }}</label>
                  <div class="col-sm-8">
                    <input type="checkbox" class="form-control" data-ng-model="userSettings.personalAttendant.main.depositVM">
                    <span class="help-block">
                      {{ 'SETTINGS.PA_DEPOSIT_HELP' | translate }}
                    </span>
                  </div>
                </div>
                <div class="form-group clearfix">
                  <label class="col-sm-4 control-label">{{ 'SETTINGS.PA_FORWARD' | translate }}</label>
                  <div class="col-sm-8">
                    <input type="checkbox" class="form-control" data-ng-model="userSettings.personalAttendant.main.forwardDeleteVM">
                    <span class="help-block">
                      {{ 'SETTINGS.PA_FORWARD_HELP' | translate }}
                    </span>
                  </div>
                </div>
                <div class="table-responsive">
                  <table class="table">
                    <thead>
                      <tr>
                        <th width="10%">{{ 'SETTINGS.PA_DIALPAD' | translate }}</th>
                        <th>{{ 'SETTINGS.PA_ROUTES' | translate }}</th>
                        <th></th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr class="pa-dials" data-ng-repeat="(key, val) in userSettings.personalAttendant.main.menu track by $index">
                        <td>
                          <select class="form-control"
                            data-ng-model="key"
                            data-ng-options="c for c in userSettings.personalAttendant.numbers">
                          </select>
                        </td>
                        <td>
                          <input class="pa-val form-control" type="text" data-ng-model="val" min="0" step="1" data-ng-pattern="/^\d+$/">
                        </td>
                        <td>
                          <span class="close-inline" title="Remove">
                            <i class="icon-close"
                              data-ng-click="userSettings.personalAttendant.rem(userSettings.personalAttendant.main.menu, null, key); formPa.$setDirty();"></i>
                          </span>
                        </td>
                      </tr>
                      <tr class="pa-dials"
                        data-ng-if="userSettings.personalAttendant.showNew"
                        data-ng-repeat="obj in userSettings.personalAttendant.emptyArr track by $index">
                        <td>
                          <select class="form-control"
                            data-ng-model="obj.key"
                            data-ng-options="c for c in userSettings.personalAttendant.numbers"
                            data-ng-required="true">
                          </select>
                        </td>
                        <td>
                          <input class="pa-val form-control" type="text"
                            data-ng-model="obj.no"
                            data-ng-pattern="/^\d+$/"
                            data-ng-required="true">
                        </td>
                        <td>
                          <span class="close-inline" title="Remove">
                            <i class="icon-close"
                              data-ng-click="userSettings.personalAttendant.rem(userSettings.personalAttendant.emptyArr, $index)"></i>
                          </span>
                        </td>
                      </tr>
                      <tr>
                        <td colspan="3">
                          <p class="add-btn">
                            <button type="button" class="btn btn-link"
                              data-ng-click="userSettings.personalAttendant.add(); formPa.$setDirty();"
                              translate-attr="{ title: 'SETTINGS.PA_ADD_DIALPAD' }">
                              <b>+</b>
                            </button>

                          </p>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </form>

              <div>
                <button class="btn btn-default"
                  data-ng-disabled="!formPa.$dirty"
                  data-ng-click="userSettings.personalAttendant.cancel(); formPa.$setPristine();">
                  {{ 'GLOBAL.CANCEL' | translate }}
                </button>
                <button type="button" class="btn btn-success"
                  data-ng-click="userSettings.personalAttendant.save(formPa)"
                  data-ng-disabled="!formPa.$dirty || formPa.$invalid">
                  {{ 'GLOBAL.SAVE' | translate }}
                </button>
                <div class="spinner-wrapper inline animated fade"
                  data-ng-show="userSettings.loading">
                  <div class="spinner small"></div>
                </div>
                <span data-ng-if="userSettings.success" class="label label-success animated fadeOut">{{ 'GLOBAL.SUCCESS' | translate }}</span>
                <span data-ng-if="userSettings.warning" class="label label-warning animated fadeOut">{{ 'GLOBAL.WARNING' | translate }}</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="col-sm-8 col-md-9 setting-right-side fwd unselectable" data-ng-if="selected === 'Call Forwarding'">
        <div class="row">
          <div class="settings-details">
            <div class="settings-title">
              <span>{{ 'SETTINGS.CALL_FORWARDING' | translate }}</span>
              <div class="spinner-wrapper animated fade pull-right"
                data-ng-if="!userSettings.fwd.setup.resp && !userSettings.errors.notAvailable">
                <div class="spinner small"></div>
              </div>
            </div>
            <ul class="nav nav-pills nav-justified">
              <li data-ng-class="{'active': userSettings.fwd.visible === 'setup'}">
                <button type="button" class="btn btn-default btn-block"
                  data-ng-click="userSettings.fwd.show('setup')">
                  {{ 'SETTINGS.CF_SETUP' | translate }}
                </button>
              </li>
              <li data-ng-class="{'active': userSettings.fwd.visible === 'schedule'}">
                <button type="button" class="btn btn-default btn-block"
                  data-ng-click="userSettings.fwd.show('schedule')">
                  {{ 'SETTINGS.CF_SCHEDULES' | translate }}
                </button>
              </li>
            </ul>
            <div class="settings-details-wrapper">

              <div data-ng-if="userSettings.fwd.visible === 'setup'">


                <div class="settings-details-wrapper animated fade" data-ng-if="userSettings.errors.notAvailable">
                  <div class="alert alert-warning">
                    <p><strong>{{ 'SETTINGS.FEATURE_HELP' | translate }}</strong></p>
                    {{ 'SETTINGS.ADMIN_HELP' | translate }}
                  </div>
                </div>

                <div data-ng-if="!userSettings.errors.notAvailable">
                  <form name="formSetup">
                    <p>
                      {{ 'SETTINGS.CF_EXTENSION' | translate }}
                      <input class="fwd-no form-control" type="number" data-ng-model="userSettings.fwd.setup.resp.expiration" data-ng-pattern="/^\d+$/"  data-ng-required="true"> {{ 'SETTINGS.CF_SECONDS' | translate }}
                    </p>

                    <div class="table-responsive">
                      <table class="table">
                        <thead>
                          <tr>
                            <th>{{ 'SETTINGS.CF_ACTIVE' | translate }}</th>
                            <th>{{ 'SETTINGS.CF_CONDITION' | translate }}</th>
                            <th>{{ 'SETTINGS.CF_SCHEDULE' | translate }}</th>
                            <th>{{ 'SETTINGS.CF_FORWARD' | translate }}</th>
                            <th>{{ 'SETTINGS.CF_TIMEOUT' | translate }} (s)</th>
                            <th></th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr class="fwd-ring" data-ng-repeat="ring in userSettings.fwd.setup.resp.rings track by $index">
                            <td>
                              <input type="checkbox" data-ng-model="ring.enabled" class="form-control">
                            </td>
                            <td>
                              <select class="form-control"
                                data-ng-model="ring.type"
                                data-ng-options="c for c in userSettings.fwd.setup.defaultTypes">
                              </select>
                            </td>
                            <td>
                              <select
                                class="form-control"
                                data-ng-model="ring.scheduleId"
                                data-ng-options="c as (c | translateSchedules:userSettings.fwd.sched.main) for c in userSettings.fwd.setup.defaultSchedules">
                                </select>
                            </td>
                            <td>
                              <input type="text" class="form-control"
                                data-ng-model="ring.number"
                                data-ng-pattern="/(^\d+|^([+][0-9]+))$/"
                                data-ng-required="true">
                            </td>
                            <td>
                              <input type="number"
                                class="form-control"
                                data-ng-model="ring.expiration"
                                data-ng-pattern="/^\d+$/"
                                data-ng-required="true">
                            </td>
                            <td>
                              <div class="move-wrapper">
                                <i class="icon-arrow_collapse_up" title="Move up"
                                  data-ng-click="userSettings.fwd.setup.moveRing($index, $index-1); formSetup.$setDirty();"></i>
                                <i class="icon-arrow_collapse_down" title="Move down"
                                  data-ng-click="userSettings.fwd.setup.moveRing($index, $index+1); formSetup.$setDirty();"></i>
                              </div>
                            </td>
                            <td>
                              <div class="tooltip-wrapper">
                                <span class="close-inline" title="Remove">
                                  <i class="icon-close"
                                    data-ng-click="userSettings.fwd.setup.rem(userSettings.fwd.setup.resp.rings, $index); formSetup.$setDirty();"></i>
                                </span>
                              </div>
                            </td>
                          </tr>
                          <tr>
                            <td colspan="6">
                              <p class="add-btn">
                                <button type="button" class="btn btn-link" 
                                  translate-attr="{ title: 'SETTINGS.CF_ADD_RING' }"
                                  data-ng-click="userSettings.fwd.setup.add(); formSetup.$setDirty();">
                                  <b>+</b>
                                </button>
                              </p>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </form>

                  <p data-ng-if="userSettings.fwd.setup.resp.withVoicemail">
                    If none of the above answers, the call will be forwarded to your voice mailbox.
                  </p>

                  <div>
                    <button class="btn btn-default"
                      data-ng-disabled="!formSetup.$dirty"
                      data-ng-click="userSettings.fwd.setup.cancel(); formSetup.$setPristine();">
                      {{ 'GLOBAL.CANCEL' | translate }}
                    </button>
                    <button type="button" class="btn btn-success"
                      data-ng-click="userSettings.fwd.setup.save(formSetup)"
                      data-ng-disabled="!formSetup.$dirty || formSetup.$invalid">
                      {{ 'GLOBAL.SAVE' | translate }}
                    </button>
                    <div class="spinner-wrapper inline animated fade"
                      data-ng-show="userSettings.loading">
                      <div class="spinner small"></div>
                    </div>
                    <span data-ng-if="userSettings.success" class="label label-success animated fadeOut">{{ 'GLOBAL.SUCCESS' | translate}}</span>
                    <span data-ng-if="userSettings.warning" class="label label-warning animated fadeOut">{{ 'GLOBAL.WARNING' | translate}}</span>
                  </div>

                </div>

              </div>

              <div class="fwd-sched" data-ng-if="userSettings.fwd.visible === 'schedule'">

                <div class="settings-details-wrapper animated fade" data-ng-if="userSettings.errors.notAvailable">
                  <div class="alert alert-warning">
                    <p><strong>{{ 'SETTINGS.FEATURE_HELP' | translate }}</strong></p>
                    {{ 'SETTINGS.ADMIN_HELP' | translate }}
                  </div>
                </div>
                <div data-ng-if="!userSettings.errors.notAvailable">
                  <p data-ng-if="!userSettings.fwd.sched.selected.periods">
                    {{ 'SETTINGS.CF_NO_SCHEDULES' | translate }}
                  </p>
                  <div class="clearfix">
                    <div data-ng-if="userSettings.fwd.sched.selected">
                    <p>{{ 'SETTINGS.CF_SELECT_SCHEDULE' | translate }}
                      <select
                        data-ng-model="userSettings.fwd.sched.selected"
                        data-ng-options="c.name for c in userSettings.fwd.sched.main"
                        data-ng-disabled="userSettings.fwd.sched.selected.periods.length === 0"
                        class="form-control">
                        </select>
                      <span class="close-inline" title="Remove">
                        <i class="icon-close"
                          data-ng-click="userSettings.fwd.sched.remSelected(); formSched.$setDirty();"></i>
                      </span>
                    </p>
                    </div>

                    <form name="formSched">
                      <div class="table-responsive">
                        <table class="table" data-ng-if="userSettings.fwd.sched.selected">
                          <thead>
                            <tr>
                              <th>{{ 'SETTINGS.CF_DAY' | translate }}</th>
                              <th>{{ 'SETTINGS.CF_FROM' | translate }}</th>
                              <th>{{ 'SETTINGS.CF_TO' | translate }}</th>
                              <th></th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr class="fwd-ring" data-ng-repeat="prop in userSettings.fwd.sched.selected.periods track by $index">
                              <td>
                                <select
                                  class="form-control"
                                  data-ng-model="prop.scheduledDay"
                                  data-ng-options="c as (c | translateDays) for c in userSettings.fwd.sched.predefined"
                                  data-ng-required="true">
                                </select>
                              </td>
                              <td>
                                <span>
                                  <input class="fwd-time form-control" type="text" data-ng-model="prop.start"
                                    data-ng-pattern="/^(0?[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/"
                                    data-ng-required="true">
                                </span>
                              </td>
                              <td>
                                <span>
                                  <input class="fwd-time form-control" type="text" data-ng-model="prop.end"
                                    data-ng-pattern="/^(0?[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/"
                                    data-ng-required="true">
                                </span>
                              </td>
                              <td>
                                <div class="tooltip-wrapper">
                                  <span class="close-inline" title="Remove">
                                    <i class="icon-close"
                                      data-ng-click="userSettings.fwd.sched.rem(userSettings.fwd.sched.selected, $index); formSched.$setDirty();"></i>
                                  </span>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td colspan="4">
                                <p class="add-btn">
                                  <button type="button" class="btn btn-link"
                                    translate-attr="{ title: 'SETTINGS.CF_ADD_PERIOD' }"
                                    data-ng-click="userSettings.fwd.sched.add(userSettings.fwd.sched.selected); formSched.$setDirty();">
                                    <b>+</b>
                                  </button>
                                </p>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>

                      <div class="fwd-sched-btns">
                        <button class="btn btn-default"
                          data-ng-click="userSettings.fwd.sched.cancel(); formSched.$setPristine();"
                          data-ng-disabled="!formSched.$dirty">
                          {{ 'GLOBAL.CANCEL' | translate }}
                        </button>
                        <button type="button" class="btn btn-success"
                          data-ng-click="userSettings.fwd.sched.save(formSched)"
                          data-ng-disabled="!formSched.$dirty || formSched.$invalid || userSettings.fwd.sched.selected.periods.length === 0">
                          {{ 'GLOBAL.SAVE' | translate }}
                        </button>
                        <div class="spinner-wrapper inline animated fade"
                          data-ng-show="userSettings.loading">
                          <div class="spinner small"></div>
                        </div>
                        <span data-ng-if="userSettings.success" class="label label-success animated fadeOut">{{ 'GLOBAL.SUCCESS' | translate }}</span>
                        <span data-ng-if="userSettings.warning" class="label label-warning animated fadeOut">{{ 'GLOBAL.WARNING' | translate }}</span>
                      </div>
                    </form>
                  </div>


                  <div class="animated fade"
                    data-ng-if="userSettings.fwd.sched.showNew">

                    <div class="clearfix">
                      <input class="form-control col-xs-4" translate-attr="{ placeholder: 'SETTINGS.CF_SCHEDULE_NAME' }" required
                      data-ng-model="userSettings.fwd.sched.showNewEmpty.name"
                      data-ng-minlength="1">
                      <span class="close-inline" title="Remove">
                        <i class="icon-close" data-ng-click="userSettings.fwd.sched.hideNewEmpty()"></i>
                      </span>
                    </div>

                    <form name="formSchedNew">
                    <div class="table-responsive">
                      <table class="table">
                        <thead>
                          <tr>
                            <th>{{ 'SETTINGS.CF_DAY' | translate }}</th>
                            <th>{{ 'SETTINGS.CF_FROM' | translate }}</th>
                            <th>{{ 'SETTINGS.CF_TO' | translate }}</th>
                            <th></th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr class="fwd-ring" data-ng-repeat="prop in userSettings.fwd.sched.showNewEmpty.periods track by $index">
                            <td>
                              <select
                                class="form-control"
                                data-ng-model="prop.scheduledDay"
                                data-ng-options="c as (c | translateDays) for c in userSettings.fwd.sched.predefined"
                                data-ng-required="true">
                              </select>
                            </td>
                            <td>
                              <span>
                                <input class="fwd-time form-control" type="text" data-ng-model="prop.start"
                                  data-ng-pattern="/^(0?[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/"
                                  data-ng-required="true">
                              </span>
                            </td>
                            <td>
                              <span>
                                <input class="fwd-time form-control" type="text" data-ng-model="prop.end"
                                  data-ng-pattern="/^(0?[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/"
                                  data-ng-required="true">
                              </span>
                            </td>
                            <td>
                              <div class="tooltip-wrapper">
                                <span class="close-inline" title="Remove">
                                  <i class="icon-close"
                                    data-ng-click="userSettings.fwd.sched.rem(userSettings.fwd.sched.showNewEmpty, $index)"></i>
                                </span>
                              </div>
                            </td>
                          </tr>
                          <tr>
                            <td colspan="4">
                              <p class="add-btn">
                                <button type="button" class="btn btn-link"
                                  translate-attr="{ title: 'SETTINGS.CF_ADD_PERIOD' }"
                                  data-ng-click="userSettings.fwd.sched.add(userSettings.fwd.sched.showNewEmpty);">
                                  <b>+</b>
                                </button>
                              </p>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                      <button type="button" class="btn btn-default "
                        data-ng-disabled="!formSchedNew.$dirty || formSchedNew.$invalid|| userSettings.fwd.sched.selected.periods.length === 0"
                        data-ng-click="userSettings.fwd.sched.addNew();"
                        >
                        {{ 'SETTINGS.CF_ADD_SAVE' | translate }}
                      </button>
                    </form>
                  </div>

                  <p class="animated">
                    <button type="button" class="btn btn-default "
                      data-ng-disabled="userSettings.fwd.sched.showNew || userSettings.fwd.sched.selected.periods.length === 0"
                      data-ng-click="userSettings.fwd.sched.addNew();"
                      >
                      {{ 'SETTINGS.CF_ADD_NEW_SCHEDULE' | translate }}
                    </button>
                  </p>
                </div>


              </div>

            </div>
          </div>
        </div>
      </div>

      <div class="col-sm-8 col-md-9 setting-right-side unselectable" data-ng-if="selected === 'Speed Dials'">
        <div class="row">
          <div class="settings-details speed">
            <div class="settings-title">
              <span>{{ 'SETTINGS.SPEED_DIALS' | translate }}</span>
              <div class="spinner-wrapper animated fade pull-right"
                data-ng-if="!userSettings.speed.data && !userSettings.errors.notAvailable">
                <div class="spinner small"></div>
              </div>
            </div>

            <div class="settings-details-wrapper animated fade" data-ng-if="userSettings.errors.notAvailable">
              <div class="alert alert-warning">
                <p><strong>{{ 'SETTINGS.FEATURE_HELP' | translate }}</strong></p>
                {{ 'SETTINGS.ADMIN_HELP' | translate }}
              </div>
            </div>

            <div class="settings-details-wrapper" data-ng-if="!userSettings.errors.notAvailable">
              <div class="form-group clearfix">
                <label class="col-sm-5 control-label">{{ 'SETTINGS.SD_ONLY_GROUP' | translate }}</label>
                <div class="col-sm-7">
                  <input type="checkbox" class="form-control" data-ng-model="userSettings.speed.data.groupSpeedDial" data-ng-change="formSpeed.$setDirty();">
                  <span class="help-block">
                    {{ 'SETTINGS.SD_ONLY_GROUP_HELP' | translate }}
                  </span>
                </div>
              </div>
              <div class="animated fade">
                <form name="formSpeed" novalidate>
                  <div class="table-responsive">
                    <table class="table">
                      <thead>
                        <tr>
                          <th>{{ 'SETTINGS.SD_NUMBER' | translate }}</th>
                          <th>{{ 'SETTINGS.SD_NAME' | translate }}</th>
                          <th>{{ 'PRESENCES.PRESENCE' | translate }}</th>
                          <th></th>
                          <th></th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr class="form-group" data-ng-repeat="obj in userSettings.speed.data.buttons track by $index">
                          <td>
                            <input type="text" class="form-control"
                              translate-attr="{ placeholder: 'SETTINGS.SD_NUMBER' }"
                              data-ng-model="userSettings.speed.data.buttons[$index].number"
                              data-ng-pattern="userSettings.speed.data.buttons[$index].pattern"
                              data-ng-required="true"
                              data-ng-disabled="userSettings.speed.data.groupSpeedDial">
                          </td>
                          <td>
                            <input type="text" class="form-control"
                              translate-attr="{ placeholder: 'SETTINGS.SD_NAME' }"
                              data-ng-model="userSettings.speed.data.buttons[$index].label"
                              data-ng-required="true"
                              data-ng-disabled="userSettings.speed.data.groupSpeedDial">
                          </td>
                          <td>
                            <input type="checkbox" class="form-control pull-left"
                              data-ng-model="userSettings.speed.data.buttons[$index].blf"
                              data-ng-disabled="userSettings.speed.data.canSubscribeToPresence === false || userSettings.speed.data.groupSpeedDial">
                          </td>
                          <td>
                            <div class="move-wrapper" data-ng-if="!userSettings.speed.data.groupSpeedDial">
                              <i class="icon-arrow_collapse_up"
                                data-ng-click="userSettings.speed.move($index, $index-1); formSpeed.$setDirty();"></i>
                              <i class="icon-arrow_collapse_down"
                                data-ng-click="userSettings.speed.move($index, $index+1); formSpeed.$setDirty();"></i>
                            </div>
                          </td>
                          <td>
                            <div class="tooltip-wrapper" data-ng-if="!userSettings.speed.data.groupSpeedDial">
                              <span class="close-inline" translate-attr="{ title: 'SETTINGS.SD_REMOVE' }">
                                <i class="icon-close"
                                  data-ng-click="userSettings.speed.removeEntry($index); formSpeed.$setDirty();"></i>
                              </span>
                            </div>
                          </td>
                        </tr>
                        <tr>
                          <td colspan="4">
                            <p class="add-btn">
                              <button type="button" class="btn btn-link" translate-attr="{ title: 'SETTINGS.SD_ADD_DIAL' }"
                                data-ng-disabled="userSettings.speed.data.groupSpeedDial"
                                data-ng-click="userSettings.speed.addEntry(); formSpeed.$setDirty();">
                                <b>+</b>
                              </button>
                            </p>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                    <div class="settings-details-wrapper animated fade" data-ng-if="userSettings.errors.speedDials">
                      <div class="alert alert-warning">
                        <p><strong>{{ 'SETTINGS.SD_INVALID_START' | translate }}</strong></p>
                        {{ 'SETTINGS.SD_INVALID_END' | translate }}  
                      </div>
                    </div>
                  </div>
                </form>
              </div>
              <div>
                <button class="btn btn-default"
                  data-ng-disabled="!formSpeed.$dirty"
                  data-ng-click="userSettings.speed.cancel(); formSpeed.$setPristine();">
                  {{ 'GLOBAL.CANCEL' | translate }}
                </button>
                <button class="btn btn-success" data-ng-click="userSettings.speed.save(formSpeed)"
                  data-ng-disabled="!formSpeed.$dirty || formSpeed.$invalid">
                  {{ 'GLOBAL.SAVE' | translate }}
                </button>
                <button class="btn btn-success" data-ng-click="userSettings.speed.save(formSpeed, true)"
                  data-ng-disabled="!formSpeed.$dirty || formSpeed.$invalid">
                  {{ 'SETTINGS.SD_SAVE_UPDATE' | translate }}
                </button>
                <div class="spinner-wrapper inline animated fade"
                  data-ng-show="userSettings.loading">
                  <div class="spinner small"></div>
                </div>
                <span data-ng-if="userSettings.success" class="label label-success animated fadeOut">{{ 'GLOBAL.SUCCESS' | translate }}</span>
                <span data-ng-if="userSettings.warning" class="label label-warning animated fadeOut">{{ 'GLOBAL.WARNING' | translate }}</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="col-sm-8 col-md-9 setting-right-side unselectable" data-ng-if="selected === 'User Settings'">
        <div class="row">
          <div class="settings-details">

            <div class="settings-title">
              <span>{{ 'SETTINGS.USER_SETTINGS' | translate }}</span>
              <div class="spinner-wrapper animated fade pull-right"
                data-ng-if="!userSettings.user.buddy && !userSettings.errors.notAvailable">
                <div class="spinner small"></div>
              </div>
            </div>

            <form name="formUserSettings" novalidate>
            <div>

              <div class="settings-details-wrapper">
                <div class="form-group clearfix">
                  <label for="inputPass" class="col-sm-3 control-label">{{ 'SETTINGS.US_PASSWORD' | translate }}</label>
                  <div class="col-sm-9">
                    <input type="password" class="form-control" placeholder="********"
                      data-ng-pattern="/^[a-zA-Z0-9-!$%^&*()_+|~=`{}\[\]:;'<>?,.\/@#]{8,}$/"
                      data-ng-disabled="!permission.enableSettingUserPaswd"
                      data-ng-model="userSettings.user.pass">
                    <span class="help-block">
                      {{ 'SETTINGS.US_PASSWORD_HELP' | translate }}
                    </span>
                  </div>
                </div>
                <div class="form-group clearfix">
                  <label class="col-sm-3 control-label">{{ 'SETTINGS.US_BROWSER_EXIT' | translate }}</label>
                  <div class="col-sm-9">
                    <input type="checkbox" class="form-control" data-ng-model="userSettings.user.closeWarn">
                    <span class="help-block">
                      {{ 'SETTINGS.US_BROWSER_EXIT_HELP' | translate }}
                    </span>
                  </div>
                </div>
                <div class="alert alert-warning alert-dismissable animated fade"
                  data-ng-if="userSettings.user.errors.pass">
                  <button type="button" class="close" data-ng-click="userSettings.user.errors.pass = null">&times;</button>
                  {{ 'SETTINGS.US_PASSWORD_WARN' | translate }}
                </div>
              </div>

              <p class="settings-subtitle">{{ 'SETTINGS.US_VOICEMAIL' | translate }}</p>
              <div class="settings-details-wrapper animated fade" data-ng-if="userSettings.errors.voicemail">
                <div class="alert alert-warning">
                  <p><strong>{{ 'SETTINGS.FEATURE_HELP' | translate }}</strong></p>
                  {{ 'SETTINGS.ADMIN_HELP' | translate }}
                </div>
              </div>
              <div class="settings-details-wrapper animated fade" data-ng-if="userSettings.user.vm.main.voicemailPermission === false">
                <div class="alert alert-warning">
                  <p><strong>{{ 'SETTINGS.US_VOICEMAIL_OFF' | translate }}</strong></p>
                  {{ 'SETTINGS.ADMIN_HELP' | translate }}
                </div>
              </div>
              <div class="settings-details-wrapper" data-ng-if="(userSettings.errors.voicemail === false) || (userSettings.user.vm.main.voicemailPermission === true)">
                <div class="form-group clearfix">
                  <label class="col-sm-3 control-label">{{ 'SETTINGS.US_VOICEMAIL_PIN' | translate }}</label>
                  <div class="col-sm-9">
                    <input type="password" class="form-control" placeholder="****" data-ng-pattern="/^[a-zA-Z0-9]{4,}$/" data-ng-disabled="!permission.enableSettingUserVmPin" data-ng-model="userSettings.user.vm.pass">
                    <span class="help-block">
                      {{ 'SETTINGS.US_VOICEMAIL_PIN_HELP' | translate }}
                    </span>
                  </div>
                </div>
                <div class="form-group clearfix">
                  <label class="col-sm-3 control-label">{{ 'SETTINGS.US_ANNOUNCEMENT' | translate }}</label>
                  <div class="col-sm-9">
                    <select class="form-control"
                      data-ng-model="userSettings.user.vm.selected"
                      data-ng-disabled="!permission.enableSettingUserAnnouncement"
                      data-ng-options="c.name for c in userSettings.user.vm.select"
                      data-ng-change="userSettings.user.vm.changeAnnouncement()">
                    </select>
                    <span class="help-block">
                      {{ 'SETTINGS.US_ANNOUNCEMENT_HELP' | translate }}
                    </span>
                  </div>
                </div>
                <div class="form-group clearfix" data-ng-if="userSettings.user.vm.selected.greetigs.indexOf('none') == -1">
                  <label class="col-sm-3 control-label">{{ 'SETTINGS.US_GREETING' | translate }}</label>
                  <div class="col-sm-9">
                    <input type="text" class="form-control" data-ng-disabled="true" data-ng-model="userSettings.user.vm.selectedGreeting">
                    <span class="help-block"  data-ng-if="userSettings.user.vm.selectedGreeting == ''">
                      {{ 'SETTINGS.US_GREETING_HELP' | translate }}
                    </span>
                    <div class="settings-details-wrapper buttons">
                      <button class="btn btn-default"
                              data-ng-if="userSettings.user.vm.selectedGreeting != ''"
                              data-ng-click="userSettings.user.vm.listenGreeting()">
                              {{ 'SETTINGS.US_LISTEN' | translate }}
                      </button>
                      <div class="spinner-wrapper inline animated fade"
                        data-ng-show="userSettings.user.vm.loading == true && userSettings.user.vm.changed == false">
                        <div class="spinner small"></div>
                      </div>
                      <button class="btn btn-default"
                              data-ng-if="userSettings.user.vm.selectedGreeting != ''"
                              data-ng-click="userSettings.user.vm.deleteGreeting()">
                              {{ 'SETTINGS.US_DELETE' | translate }}
                      </button>
                    </div>
                    <div data-ng-if="userSettings.user.vm.loading == false && userSettings.user.vm.changed == false" class="settings-details-wrapper buttons">
                      <audio controls autoplay
                        data-ng-src="{{ userSettings.user.vm.href }}"
                        type="{{userSettings.user.vm.isMp3 ? 'audio/mp3' : 'audio/wav'}}">
                      </audio>
                    </div>
                    <div class="settings-details-wrapper buttons animated fade" data-ng-if="userSettings.errors.greetings">
                      <div class="alert alert-warning">
                        <p><strong>{{ 'SETTINGS.US_GREETING_DELETING' | translate }}</strong></p>
                        {{ 'SETTINGS.US_GREETING_REPLACE' | translate }}
                      </div>
                    </div>
                  </div>
                </div>
                <div class="form-group clearfix" data-ng-if="userSettings.user.vm.selected.greetigs.indexOf('none') == -1">
                  <label class="col-sm-3 control-label">{{ 'SETTINGS.US_AUDIO_FILE' | translate }}</label>
                  <div class="col-sm-9">
                    <div ng-controller="UploadGreetingFile" ng-click="formUserSettings.$setDirty()" class="entry-choose-file">
                      <input type="file" nv-file-select uploader="uploader">
                      <!--<button class="btn btn-default"
                              data-ng-click="userSettings.user.moh.addMoh(userSettings.user.moh.audioData)"
                      >
                        Add
                      </button>-->
                    </div>
                    <span class="help-block">
                      {{ 'SETTINGS.US_AUDIO_FILE_GREETING_HELP' | translate }}
                    </span>
                  </div>
                </div>
                <div class="form-group clearfix">
                  <label class="col-sm-3 control-label">{{ 'SETTINGS.US_EMAIL' | translate }}</label>
                  <div class="col-sm-9">
                    <input type="email" class="form-control" translate-attr="{ placeholder: 'SETTINGS.US_EMAIL' }" data-ng-disabled="!permission.enableSettingUserEmail" data-ng-model="userSettings.user.vm.main.email">
                  </div>
                </div>
                <div class="form-group clearfix">
                  <label class="col-sm-3 control-label">{{ 'SETTINGS.US_ATTACH_AUDIO' | translate }}</label>
                  <div class="col-sm-9">
                    <input type="checkbox" class="form-control" data-ng-disabled="!permission.enableSettingUserAttachAudio" data-ng-model="userSettings.user.vm.main.emailIncludeAudioAttachment">
                    <span class="help-block">
                      {{ 'SETTINGS.US_ATTACH_AUDIO_HELP' | translate }}
                    </span>
                  </div>
                </div>
                <div class="form-group clearfix">
                  <label class="col-sm-3 control-label">{{ 'SETTINGS.US_ALT_EMAIL' | translate }}</label>
                  <div class="col-sm-9">
                    <input type="email" class="form-control" translate-attr="{ placeholder: 'SETTINGS.US_EMAIL' }" data-ng-disabled="!permission.enableSettingUserAltEmail" data-ng-model="userSettings.user.vm.main.altEmail">
                  </div>
                </div>
                <div class="form-group clearfix">
                  <label class="col-sm-3 control-label">{{ 'SETTINGS.US_ATTACH_AUDIO' | translate }}</label>
                  <div class="col-sm-9">
                    <input type="checkbox" class="form-control" data-ng-disabled="!permission.enableSettingUserAltAttachAudio" data-ng-model="userSettings.user.vm.main.altEmailIncludeAudioAttachment">
                  </div>
                </div>
              </div>


              <!--<div class="settings-details-wrapper animated fade" data-ng-if="userSettings.errors.confBridge">
                <div class="alert alert-warning">
                  <p><strong>Feature not available</strong></p>
                  Please contact your administrator.
                </div>
              </div>-->

              <div class="settings-details-wrapper" data-ng-if="!userSettings.errors.confBridge">
                <p class="settings-subtitle">{{ 'SETTINGS.US_CONFERENCEBRIDGE' | translate }}</p>
                <div class="form-group clearfix">
                  <label class="col-sm-3 control-label">{{ 'SETTINGS.US_ROOM' | translate }}</label>
                  <div class="col-sm-9">
                    <select class="form-control"
                      data-ng-model="userSettings.user.conf.selected"
                      data-ng-disabled="!permission.enableSettingUserConfBridgeRoom"
                      data-ng-options="c.name for c in userSettings.user.conf.select"
                      data-ng-change="userSettings.user.conf.changeConf()">
                    </select>
                  </div>
                </div>
                <div class="form-group clearfix">
                  <label class="col-sm-3 control-label">{{ 'SETTINGS.US_ENABLED' | translate }}</label>
                  <div class="col-sm-9">
                    <input type="checkbox" class="form-control" data-ng-disabled="!permission.enableSettingUserConfBridgeEnabled" data-ng-model="userSettings.user.conf.main.enabled">
                  </div>
                </div>
                <div class="form-group clearfix">
                  <label class="col-sm-3 control-label">{{ 'SETTINGS.US_NAME' | translate }}</label>
                  <div class="col-sm-9">
                    <input type="text" translate-attr="{ placeholder: 'SETTINGS.US_NAME' }" class="form-control" data-ng-disabled="!permission.enableSettingUserConfBridgeName" data-ng-model="userSettings.user.conf.main.name" required>
                  </div>
                </div>
                <div class="form-group clearfix">
                  <label class="col-sm-3 control-label">{{ 'SETTINGS.US_MODERATOR_PIN' | translate }}</label>
                  <div class="col-sm-9">
                    <input type="text" translate-attr="{ placeholder: 'SETTINGS.US_PIN' }" class="form-control" data-ng-disabled="!permission.enableSettingUserConfBridgeModeratorPin" data-ng-model="userSettings.user.conf.main.moderatorCode" data-ng-pattern="/^\d+$/">
                    <span class="help-block">
                      {{ 'SETTINGS.US_PIN_HELP' | translate }}
                    </span>
                  </div>
                </div>
                <div class="form-group clearfix">
                  <label class="col-sm-3 control-label">{{ 'SETTINGS.US_PARTICIPANT_PIN' | translate }}</label>
                  <div class="col-sm-9">
                    <input type="text" translate-attr="{ placeholder: 'SETTINGS.US_PIN' }" class="form-control" data-ng-disabled="!permission.enableSettingUserConfBridgePartPin" data-ng-model="userSettings.user.conf.main.accessCode" data-ng-pattern="/^\d+$/">
                    <span class="help-block">
                      {{ 'SETTINGS.US_PARTICIPANT_PIN_HELP' | translate }}
                    </span>
                  </div>
                </div>
                <div class="form-group clearfix">
                  <label class="col-sm-3 control-label">{{ 'SETTINGS.US_MAXMEMBERS' | translate }}</label>
                  <div class="col-sm-9">
                    <input type="number" class="form-control" data-ng-disabled="!permission.enableSettingUserConfBridgeMaxMembers" data-ng-model="userSettings.user.conf.main.maxMembers" data-ng-pattern="/^\d+$/">
                    <span class="help-block">
                      {{ 'SETTINGS.US_MAXMEMBERS_HELP' | translate }}
                    </span>
                  </div>
                </div>
                <div class="form-group clearfix">
                  <label class="col-sm-3 control-label">{{ 'SETTINGS.US_QUICKSTART' | translate }}</label>
                  <div class="col-sm-9">
                    <input type="checkbox" class="form-control" data-ng-disabled="!permission.enableSettingUserConfBridgeQuickStart" data-ng-model="userSettings.user.conf.main.quickstart">
                    <span class="help-block">
                      {{ 'SETTINGS.US_QUICKSTART_HELP' | translate }}
                    </span>
                  </div>
                </div>
                <div class="form-group clearfix">
                  <label class="col-sm-3 control-label">{{ 'SETTINGS.US_AUTO_RECORD' | translate }}</label>
                  <div class="col-sm-9">
                    <input type="checkbox" class="form-control" data-ng-disabled="!permission.enableSettingUserConfBridgeAutoRecord" data-ng-model="userSettings.user.conf.main.autorecorded">
                    <span class="help-block">
                      {{ 'SETTINGS.US_AUTO_RECORD_HELP' | translate }}
                    </span>
                  </div>
                </div>
                <div class="form-group clearfix">
                  <label class="col-sm-3 control-label">{{ 'SETTINGS.US_PLAY_ENTRY' | translate }}</label>
                  <div class="col-sm-9">
                    <input type="checkbox" class="form-control" data-ng-disabled="!permission.enableSettingUserConfBridgeEntryTone" data-ng-model="userSettings.user.conf.main.playEntryToneEnabled">
                    <span class="help-block">
                      {{ 'SETTINGS.US_PLAY_ENTRY_HELP' | translate }}
                    </span>
                  </div>
                </div>
                <div class="form-group clearfix">
                  <label class="col-sm-3 control-label">{{ 'SETTINGS.US_PLAY_EXIT' | translate }}</label>
                  <div class="col-sm-9">
                    <input type="checkbox" class="form-control" data-ng-disabled="!permission.enableSettingUserConfBridgeExitTone" data-ng-model="userSettings.user.conf.main.playExitToneEnabled">
                    <span class="help-block">
                      {{ 'SETTINGS.US_PLAY_EXIT_HELP' | translate }}
                    </span>
                  </div>
                </div>
                <div class="form-group clearfix">
                  <label class="col-sm-3 control-label">{{ 'SETTINGS.US_PLAY_NAME_ENTRY' | translate }}</label>
                  <div class="col-sm-9">
                    <input type="checkbox" class="form-control" data-ng-disabled="!permission.enableSettingUserConfBridgeEntryVoice" data-ng-model="userSettings.user.conf.main.recordAndPlayNameOnEntryEnabled">
                    <span class="help-block">
                      {{ 'SETTINGS.US_PLAY_NAME_ENTRY_HELP' | translate }}
                    </span>
                  </div>
                </div>
                <div class="form-group clearfix">
                  <label class="col-sm-3 control-label">{{ 'SETTINGS.US_PLAY_NAME_EXIT' | translate }}</label>
                  <div class="col-sm-9">
                    <input type="checkbox" class="form-control" data-ng-disabled="!permission.enableSettingUserConfBridgeExitVoice" data-ng-model="userSettings.user.conf.main.recordAndPlayNameOnExitEnabled">
                    <span class="help-block">
                      {{ 'SETTINGS.US_PLAY_NAME_EXIT_HELP' | translate }}
                    </span>
                  </div>
                </div>
              </div>

              <p class="settings-subtitle">{{ 'SETTINGS.US_MOH' | translate }}</p>
              <div class="settings-details-wrapper" >
                <div class="form-group clearfix">
                  <label class="col-sm-3 control-label">{{ 'SETTINGS.US_AUDIO_SOURCE' | translate }}</label>
                  <div class="col-sm-9">
                    <select class="form-control"
                      data-ng-disabled="!permission.enableSettingUserMoHAudioSource"
                      data-ng-model="userSettings.user.moh.selected"
                      data-ng-options="c.name for c in userSettings.user.moh.select">
                    </select>
                    <span class="help-block">
                      {{ 'SETTINGS.US_SELECT_MOH' | translate }}<br>
                      &nbsp;&nbsp;Personal Music Directory - {{ 'SETTINGS.US_MOH_PERSONAL' | translate }}<br>
                      &nbsp;&nbsp;Group Music Directory - {{ 'SETTINGS.US_MOH_GROUP' | translate }}<br>
                      &nbsp;&nbsp;System Music Directory - {{ 'SETTINGS.US_MOH_SYSTEM' | translate }}<br>
                      &nbsp;&nbsp;Use System Configuration - {{ 'SETTINGS.US_MOH_CONFIG' | translate }}<br>
                      &nbsp;&nbsp;None - {{ 'SETTINGS.US_MOH_NO' | translate }}
                    </span>

                  </div>
                </div>
                <div class="form-group clearfix">
                  <label class="col-sm-3 control-label">{{ 'SETTINGS.US_PERSONAL_MOH_FILES' | translate }}</label>
                  <div class="col-sm-9">
                    <select class="form-control"
                      data-ng-disabled="!permission.enableSettingUserMoHPersonal"
                      data-ng-model="userSettings.user.moh.selectedMoh"
                      data-ng-options="c.name for c in userSettings.user.moh.selectMoh"
                      data-ng-change="userSettings.user.moh.changeMoh()">
                    </select>
                    <span class="help-block">
                      {{ 'SETTINGS.US_SELECT_MOH_FILES' | translate }}
                    </span>
                    <div data-ng-if="!(userSettings.user.moh.selectedMoh.val == 'NONE')">
                      <button class="btn btn-default"
                        data-ng-click="userSettings.user.moh.listenMoh()">
                        {{ 'SETTINGS.US_LISTEN' | translate }}
                      </button>
                      <div class="spinner-wrapper inline animated fade"
                        data-ng-show="userSettings.user.moh.loading == true && userSettings.user.moh.changed == false">
                        <div class="spinner small"></div>
                      </div>
                      <button class="btn btn-default"
                        data-ng-click="userSettings.user.moh.deleteMoh()">
                        {{ 'SETTINGS.US_DELETE' | translate }}
                      </button>
                    </div>
                    <div data-ng-if="userSettings.user.moh.loading == false && userSettings.user.moh.changed == false">
                        <audio controls autoplay
                        data-ng-src="{{ userSettings.user.moh.href }}">
                      </audio>
                    </div>
                  </div>
                </div>
                <div class="form-group clearfix">
                  <label class="col-sm-3 control-label">{{ 'SETTINGS.US_AUDIO_FILE' | translate }}</label>
                  <div class="col-sm-9">
                    <div ng-controller="UploadMoHFile">
                      <input type="file" data-ng-disabled="!permission.enableSettingUserMoHFiles" nv-file-select uploader="uploader">

                    </div>
                    <span class="help-block">
                      {{ 'SETTINGS.US_AUDIO_FILE_MOH_HELP' | translate }}
                    </span>
                  </div>
                </div>
              </div>

              <p class="settings-subtitle">{{ 'SETTINGS.US_MYBUDDY' | translate }}</p>
              <div class="settings-details-wrapper animated fade" data-ng-if="userSettings.errors.myBuddy">
                <div class="alert alert-warning">
                  <p><strong>{{ 'SETTINGS.FEATURE_HELP' | translate }}</strong></p>
                  {{ 'SETTINGS.ADMIN_HELP' | translate }}
                </div>
              </div>
              <div class="settings-details-wrapper" data-ng-if="!userSettings.errors.myBuddy">
                <div class="form-group clearfix animated fade">
                  <label class="col-sm-4 control-label">
                    <p class="muted">{{ 'SETTINGS.US_TRIGGERED' | translate }}</p>
                  </label>
                </div>
                <div class="form-group clearfix animated fade"
                  data-ng-repeat="(key, val) in userSettings.user.buddy track by $index">
                  <label class="col-sm-3 control-label">{{ ('SETTINGS.US_' + key) | translate }}</label>
                  <div class="col-sm-9">
                    <input type="checkbox" class="form-control" data-ng-disabled="!permission.buddy[$index]" data-ng-model="userSettings.user.buddy[key]">
                  </div>
                </div>
              </div>


            </div>
            </form>

              <div class="settings-details-wrapper">
                <button class="btn btn-default"
                  data-ng-disabled="!formUserSettings.$dirty"
                  data-ng-click="userSettings.user.cancel(); formUserSettings.$setPristine();">
                  {{ 'GLOBAL.CANCEL' | translate }}
                </button>
                <button class="btn btn-success"
                  data-ng-disabled="!formUserSettings.$dirty || formUserSettings.$invalid"
                  data-ng-click="userSettings.user.save(formUserSettings)">
                  {{ 'GLOBAL.SAVE' | translate }}
                </button>
                <div class="spinner-wrapper inline animated fade"
                  data-ng-show="userSettings.user.loading">
                  <div class="spinner small"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-sm-8 col-md-9 setting-right-side pa unselectable" data-ng-if="selected === 'Language'">
            <div class="row">
              <div class="settings-details">
                <div class="settings-title">
                  <span>{{ 'SETTINGS.LANGUAGE' | translate }}</span>
                </div>
                <form name="formLanguage">
                  <div class="settings-details-wrapper">
                    <div class="form-group clearfix">
                      <label class="col-sm-2 control-label">{{ 'SETTINGS.ACTIVE' | translate }}</label>
                      <div class="col-sm-10">
                      <select name="mySelect"
                              ng-options="option.name for option in userSettings.language.availableOptions  track by option.id"
                              ng-model="userSettings.language.selectedOption"
                        >
                      </select>
                        <span class="help-block">
                            {{ 'SETTINGS.US_SELECT_LANGUAGE' | translate }}
                        </span>
                      </div>
                    </div>
                  </div>
                </form>
    
                <div class="settings-details-wrapper">
                  <button class="btn btn-success"
                    data-ng-click="userSettings.language.save(formLanguage)"
                    data-ng-disabled="!formLanguage.$dirty || formLanguage.$invalid">
                    {{ 'GLOBAL.SAVE' | translate }}
                  </button>
                  <span data-ng-if="userSettings.success" class="label label-success animated fadeOut">{{ 'GLOBAL.SUCCESS' | translate }}</span>
                  <span data-ng-if="userSettings.warning" class="label label-warning animated fadeOut">{{ 'GLOBAL.WARNING' | translate }}</span>
                </div>
              </div>
            </div>
          </div>

    </div><!--/#settings-list-->

  </div>
</div>
